name: Generate Metrics

on:
  schedule: 
    - cron: "10 22 * * *"
  workflow_dispatch:

jobs:
  github-metrics:
    runs-on: ubuntu-latest
    steps:
      - name: Half-year calendar
        uses: lowlighter/metrics@latest
        with:
          token: ${{ secrets.METRICS_TOKEN }}
          base: header, activity, community, repositories, metadata
          plugin_isocalendar: yes

      # 생성된 SVG 파일을 푸시
      #- name: Commit and Push changes without Contributions
      #  uses: stefanzweifel/git-auto-commit-action@v4
      #  with:
      #    commit_message: "Update metrics [skip ci] [no-contribution]"  # [skip ci]를 추가
      #    branch: main
